{
  "nodes": [
    {
      "id": "23",
      "type": "userInput",
      "position": {
        "x": 27.236858936374233,
        "y": 340.0419067640537
      },
      "dragHandle": ".dragHandle",
      "data": {
        "type": "text/csv",
        "value": "/userdata/sample_example_short.csv"
      }
    },
    {
      "id": "26",
      "type": "userInput",
      "position": {
        "x": 44.05790319760729,
        "y": 396.0096177456791
      },
      "dragHandle": ".dragHandle",
      "data": {
        "type": "string",
        "value": "EPSG:4326"
      }
    },
    {
      "id": "27",
      "type": "userInput",
      "position": {
        "x": 32.743142787745796,
        "y": 445.28171213222845
      },
      "dragHandle": ".dragHandle",
      "data": {
        "type": "string",
        "value": "EPSG:3006"
      }
    },
    {
      "id": "31",
      "type": "io",
      "position": {
        "x": 25.138477930442605,
        "y": 170.71704658164288
      },
      "data": {
        "descriptionFile": "biodiversity_dl_biab>select_data_sources.yml"
      }
    },
    {
      "id": "33",
      "type": "io",
      "position": {
        "x": 1636.4531445339558,
        "y": 237.81207278110946
      },
      "data": {
        "descriptionFile": "biodiversity_dl_biab>get_local_geotif.yml"
      }
    },
    {
      "id": "34",
      "type": "io",
      "position": {
        "x": 1632.1025094951647,
        "y": 442.82306363739076
      },
      "data": {
        "descriptionFile": "biodiversity_dl_biab>get_GEE_data.yml"
      }
    },
    {
      "id": "36",
      "type": "userInput",
      "position": {
        "x": 38.12280008953485,
        "y": 496.365335936935
      },
      "dragHandle": ".dragHandle",
      "data": {
        "type": "float",
        "value": 100
      }
    },
    {
      "id": "39",
      "type": "userInput",
      "position": {
        "x": 32.060094214020864,
        "y": 675.3249412324195
      },
      "dragHandle": ".dragHandle",
      "data": {
        "type": "float",
        "value": 128
      }
    },
    {
      "id": "40",
      "type": "userInput",
      "position": {
        "x": 35.574627761144086,
        "y": 262.9201319782085
      },
      "dragHandle": ".dragHandle",
      "data": {
        "type": "float",
        "value": 0.1
      }
    },
    {
      "id": "41",
      "type": "userInput",
      "position": {
        "x": 32.12832919019422,
        "y": 704.0517412544199
      },
      "dragHandle": ".dragHandle",
      "data": {
        "type": "float",
        "value": 10
      }
    },
    {
      "id": "42",
      "type": "userInput",
      "position": {
        "x": 27.021364029424262,
        "y": 752.929399596276
      },
      "dragHandle": ".dragHandle",
      "data": {
        "type": "string",
        "value": "/userdata/gee_keys/cnn-sdm-6a23e8ab235d.json"
      }
    },
    {
      "id": "43",
      "type": "userInput",
      "position": {
        "x": 22.283891211563628,
        "y": 808.2793678313243
      },
      "dragHandle": ".dragHandle",
      "data": {
        "type": "string",
        "value": "ma-service@cnn-sdm.iam.gserviceaccount.com"
      }
    },
    {
      "id": "44",
      "type": "output",
      "position": {
        "x": 2245.393781063205,
        "y": 267.4546745126286
      },
      "data": {
        "label": "Output"
      }
    },
    {
      "id": "45",
      "type": "output",
      "position": {
        "x": 2191.511233445225,
        "y": 486.6961190868818
      },
      "data": {
        "label": "Output"
      }
    },
    {
      "id": "50",
      "type": "io",
      "position": {
        "x": 499.6470284796196,
        "y": 251.7564214677131
      },
      "data": {
        "descriptionFile": "biodiversity_dl_biab>transform_crs.yml"
      }
    },
    {
      "id": "51",
      "type": "constant",
      "position": {
        "x": 385.44632659488036,
        "y": 314.8434065687257
      },
      "dragHandle": ".dragHandle",
      "data": {
        "type": "string",
        "value": "EPSG:4326"
      }
    },
    {
      "id": "52",
      "type": "io",
      "position": {
        "x": 1114.136806528483,
        "y": 238.74947668779043
      },
      "data": {
        "descriptionFile": "biodiversity_dl_biab>create_grid.yml"
      }
    },
    {
      "id": "53",
      "type": "io",
      "position": {
        "x": 499.90345075989035,
        "y": 470.3883269564546
      },
      "data": {
        "descriptionFile": "biodiversity_dl_biab>transform_crs.yml"
      }
    },
    {
      "id": "54",
      "type": "io",
      "position": {
        "x": 1111.5341228175992,
        "y": 465.1829595346868
      },
      "data": {
        "descriptionFile": "biodiversity_dl_biab>create_grid.yml"
      }
    },
    {
      "id": "55",
      "type": "userInput",
      "position": {
        "x": 28.878658203790565,
        "y": 543.8795731265061
      },
      "dragHandle": ".dragHandle",
      "data": {
        "type": "text[]",
        "value": [
          "SE",
          "NO"
        ]
      }
    },
    {
      "id": "56",
      "type": "userInput",
      "position": {
        "x": 35.38536748100023,
        "y": 579.0158032234384
      },
      "dragHandle": ".dragHandle",
      "data": {
        "type": "text",
        "value": "2020-01-01"
      }
    },
    {
      "id": "57",
      "type": "userInput",
      "position": {
        "x": 36.68670933644216,
        "y": 611.5493496094866
      },
      "dragHandle": ".dragHandle",
      "data": {
        "type": "text",
        "value": "2020-12-31"
      }
    }
  ],
  "edges": [
    {
      "source": "31",
      "sourceHandle": "selection_local",
      "target": "33",
      "targetHandle": "global_tifs",
      "id": "reactflow__edge-31selection_local-33global_tifs"
    },
    {
      "source": "31",
      "sourceHandle": "selection_remote",
      "target": "34",
      "targetHandle": "collections",
      "id": "reactflow__edge-31selection_remote-34collections"
    },
    {
      "source": "39",
      "sourceHandle": null,
      "target": "34",
      "targetHandle": "image_size",
      "id": "reactflow__edge-39-34image_size"
    },
    {
      "source": "40",
      "sourceHandle": null,
      "target": "33",
      "targetHandle": "window",
      "id": "reactflow__edge-40-33window"
    },
    {
      "source": "41",
      "sourceHandle": null,
      "target": "34",
      "targetHandle": "m_pixel",
      "id": "reactflow__edge-41-34m_pixel"
    },
    {
      "source": "42",
      "sourceHandle": null,
      "target": "34",
      "targetHandle": "gee_token_path",
      "id": "reactflow__edge-42-34gee_token_path"
    },
    {
      "source": "43",
      "sourceHandle": null,
      "target": "34",
      "targetHandle": "gee_account",
      "id": "reactflow__edge-43-34gee_account"
    },
    {
      "source": "33",
      "sourceHandle": "cropped_raster",
      "target": "44",
      "targetHandle": null,
      "id": "reactflow__edge-33cropped_raster-44"
    },
    {
      "source": "34",
      "sourceHandle": "gee_raster",
      "target": "45",
      "targetHandle": null,
      "id": "reactflow__edge-34gee_raster-45"
    },
    {
      "source": "23",
      "sourceHandle": null,
      "target": "50",
      "targetHandle": "coordinates",
      "id": "reactflow__edge-23-50coordinates"
    },
    {
      "source": "26",
      "sourceHandle": null,
      "target": "50",
      "targetHandle": "crs_input",
      "id": "reactflow__edge-26-50crs_input"
    },
    {
      "source": "51",
      "sourceHandle": null,
      "target": "50",
      "targetHandle": "crs_output",
      "id": "reactflow__edge-51-50crs_output"
    },
    {
      "source": "50",
      "sourceHandle": "transformed_coordinates",
      "target": "52",
      "targetHandle": "coordinates",
      "id": "reactflow__edge-50transformed_coordinates-52coordinates"
    },
    {
      "source": "50",
      "sourceHandle": "crs_output",
      "target": "52",
      "targetHandle": "crs_input",
      "id": "reactflow__edge-50crs_output-52crs_input"
    },
    {
      "source": "50",
      "sourceHandle": "crs_output",
      "target": "52",
      "targetHandle": "crs_output",
      "id": "reactflow__edge-50crs_output-52crs_output"
    },
    {
      "source": "52",
      "sourceHandle": "transformed_grid",
      "target": "33",
      "targetHandle": "coordinates",
      "id": "reactflow__edge-52transformed_grid-33coordinates"
    },
    {
      "source": "23",
      "sourceHandle": null,
      "target": "53",
      "targetHandle": "coordinates",
      "id": "reactflow__edge-23-53coordinates"
    },
    {
      "source": "26",
      "sourceHandle": null,
      "target": "53",
      "targetHandle": "crs_input",
      "id": "reactflow__edge-26-53crs_input"
    },
    {
      "source": "27",
      "sourceHandle": null,
      "target": "53",
      "targetHandle": "crs_output",
      "id": "reactflow__edge-27-53crs_output"
    },
    {
      "source": "53",
      "sourceHandle": "transformed_coordinates",
      "target": "54",
      "targetHandle": "coordinates",
      "id": "reactflow__edge-53transformed_coordinates-54coordinates"
    },
    {
      "source": "53",
      "sourceHandle": "crs_output",
      "target": "54",
      "targetHandle": "crs_input",
      "id": "reactflow__edge-53crs_output-54crs_input"
    },
    {
      "source": "53",
      "sourceHandle": "crs_output",
      "target": "54",
      "targetHandle": "crs_output",
      "id": "reactflow__edge-53crs_output-54crs_output"
    },
    {
      "source": "36",
      "sourceHandle": null,
      "target": "52",
      "targetHandle": "grid_space",
      "id": "reactflow__edge-36-52grid_space"
    },
    {
      "source": "36",
      "sourceHandle": null,
      "target": "54",
      "targetHandle": "grid_space",
      "id": "reactflow__edge-36-54grid_space"
    },
    {
      "source": "55",
      "sourceHandle": null,
      "target": "54",
      "targetHandle": "country_code",
      "id": "reactflow__edge-55-54country_code"
    },
    {
      "source": "55",
      "sourceHandle": null,
      "target": "52",
      "targetHandle": "country_code",
      "id": "reactflow__edge-55-52country_code"
    },
    {
      "source": "56",
      "sourceHandle": null,
      "target": "54",
      "targetHandle": "start_date",
      "id": "reactflow__edge-56-54start_date"
    },
    {
      "source": "57",
      "sourceHandle": null,
      "target": "54",
      "targetHandle": "end_date",
      "id": "reactflow__edge-57-54end_date"
    },
    {
      "source": "56",
      "sourceHandle": null,
      "target": "52",
      "targetHandle": "start_date",
      "id": "reactflow__edge-56-52start_date"
    },
    {
      "source": "57",
      "sourceHandle": null,
      "target": "52",
      "targetHandle": "end_date",
      "id": "reactflow__edge-57-52end_date"
    },
    {
      "source": "54",
      "sourceHandle": "transformed_grid",
      "target": "34",
      "targetHandle": "coordinates",
      "id": "reactflow__edge-54transformed_grid-34coordinates"
    },
    {
      "source": "54",
      "sourceHandle": "crs_output",
      "target": "34",
      "targetHandle": "output_crs",
      "id": "reactflow__edge-54crs_output-34output_crs"
    }
  ],
  "inputs": {
    "pipeline@23": {
      "label": "Coordinates table",
      "description": "A csv file with the table of the samples of the locations to crop. The table must have the first 5 columns with the exact names \"id\", \"latitude\", \"longitude\", \"start_date\", and \"end_date\". Date should be in YYYY-MM-DD format.",
      "type": "text/csv",
      "example": "/userdata/sample_example_short.csv",
      "weight": 0
    },
    "pipeline@26": {
      "label": "Input crs",
      "description": "The coordinate reference system of the input coordinates. For example, \"EPSG:4326\"",
      "type": "string",
      "example": "EPSG:4326",
      "weight": 1
    },
    "pipeline@27": {
      "label": "Output crs",
      "description": "Output coordinate reference system to use for the transformed coordinates. For example, \"EPSG:3006\"",
      "type": "string",
      "example": "EPSG:3006",
      "weight": 2
    },
    "biodiversity_dl_biab>select_data_sources.yml@31|config_csv": {
      "description": "A path to the csv file that contains the data sources and their associated tif files. More data sources can be added. Remember to avoid spaces in the names of the data sources. When a new data source is added, the yaml file should be updated to include the new data source.",
      "label": "Inventory of data sources",
      "type": "text",
      "example": "/userdata/datasources_config.csv",
      "weight": 3
    },
    "biodiversity_dl_biab>select_data_sources.yml@31|user_choices": {
      "description": "The user can select 1 to many availabledata sources. The script receives the selected option as an array of text and it outputs the selected data sources to either crop local tiff files or download remote collections from openEO.",
      "label": "Selection of data sources",
      "type": "options[]",
      "options": [
        "land cover",
        "habitat heterogeneity",
        "topography",
        "sentinel2",
        "human influence index",
        "elevation",
        "climate"
      ],
      "example": [
        "land cover",
        "sentinel2"
      ],
      "weight": 4
    },
    "pipeline@36": {
      "label": "Grid spacing",
      "description": "Spacing in km for the grid points to be generated within the extent of the provided coordinates. This will create a grid of points spaced at the specified distance.",
      "type": "float",
      "example": 100,
      "weight": 5
    },
    "pipeline@56": {
      "label": "Start date",
      "description": "The start date for the time range of the grid points.",
      "type": "text",
      "example": "2020-01-01",
      "weight": 6
    },
    "pipeline@57": {
      "label": "End date",
      "description": "The end date for the time range of the grid points.",
      "type": "text",
      "example": "2020-12-31",
      "weight": 7
    },
    "pipeline@55": {
      "label": "Country code",
      "description": "The alpha-2 code of the country that the user wants to create the grid in addition to the one identified in the provided coordinates. You can check the list of country codes [here](https://www.iban.com/country-codes).",
      "type": "text[]",
      "example": [
        "SE",
        "NO"
      ],
      "weight": 8
    },
    "pipeline@40": {
      "label": "Window size",
      "description": "Size of the window to crop in degrees. This parameter is only used on the local tiff files cropping",
      "type": "float",
      "example": 0.1,
      "weight": 9
    },
    "pipeline@39": {
      "label": "Image size",
      "description": "Size of the image. This parameter is used on the GEE",
      "type": "float",
      "example": 128,
      "weight": 10
    },
    "pipeline@41": {
      "label": "Meters per pixel",
      "description": "Size of the pixel in meters. This is used to determine the resolution of the raster data to be downloaded. Used in GEE",
      "type": "float",
      "example": 10,
      "weight": 11
    },
    "pipeline@42": {
      "label": "GEE credential token path",
      "description": "Path to the GEE credential token file.",
      "type": "string",
      "example": "/userdata/gee_keys/cnn-sdm-6a23e8ab235d.json",
      "weight": 12
    },
    "pipeline@43": {
      "label": "Google Earth Engine account",
      "description": "Google Earth Engine account name. This is the name of the account that is used to authenticate with the Google Earth Engine API.",
      "type": "string",
      "example": "ma-service@cnn-sdm.iam.gserviceaccount.com",
      "weight": 13
    }
  },
  "outputs": {
    "biodiversity_dl_biab>get_local_geotif.yml@33|cropped_raster": {
      "description": "A path to the tiff file that is the cropped region of the global raster specified by the user. The cropped raster file is in GeoTIFF format.",
      "label": "Cropped raster",
      "type": "image/tiff;application=geotiff",
      "weight": 0
    },
    "biodiversity_dl_biab>get_GEE_data.yml@34|gee_raster": {
      "description": "The path(s) to the tiff file(s) that are the cropped region of the global raster specified by the user. The cropped raster file is in GeoTIFF format.",
      "label": "Cropped gee raster",
      "type": "image/tiff;application=geotiff",
      "weight": 1
    }
  }
}